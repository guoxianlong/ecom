<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.alimama.ad.ssp.dao.AdSlotDao">
	<resultMap id="AdSlot-RESULT" type="com.alimama.ad.ssp.domain.AdSlotDO">
		<id column="id" jdbcType="INTEGER" property="id" />
		<result column="user_id" jdbcType="INTEGER" property="userId" />
		<result column="app_id" jdbcType="BOOLEAN" property="appId" />
		<result column="name" jdbcType="VARCHAR" property="name" />
		<result column="state" jdbcType="INTEGER" property="state" />
		<result column="landing_type" jdbcType="VARCHAR" property="landingType" />
		<result column="landing_size" jdbcType="VARCHAR" property="landingSize" />
		<result column="platform" jdbcType="VARCHAR" property="platform" />
		<result column="landing_images" jdbcType="VARCHAR" property="landingImages" />
		<result column="device" jdbcType="VARCHAR" property="device" />
		<result column="channels" jdbcType="VARCHAR" property="channels" />
		<result column="areas" jdbcType="VARCHAR" property="areas" />
		<result column="text_size" jdbcType="VARCHAR" property="textSize" />
		<result column="display_strategy" jdbcType="VARCHAR" property="displayStrategy" />
		<result column="timeslots" jdbcType="VARCHAR" property="timeslots" />
		<result column="template" jdbcType="VARCHAR" property="template" />
		<result column="anim_in" jdbcType="VARCHAR" property="animIn" />
		<result column="enable_preload" jdbcType="VARCHAR" property="enablePreload" />
		<result column="enable_page" jdbcType="VARCHAR" property="enablePage" />
		<result column="ad_network_strategy" jdbcType="VARCHAR"
			property="adNetworkStrategy" />
		<result column="xp_enable" javaType="INTEGER" jdbcType="BIT"
			property="xpEnable" />
		<result column="xp_percent" jdbcType="INTEGER" property="xpPercent" />
		<result column="appkey" jdbcType="VARCHAR" property="appkey" />
		<result column="uads_enable" javaType="INTEGER" jdbcType="BIT"
			property="uadsEnable" />
		<result column="uads_percent" jdbcType="INTEGER" property="uadsPercent" />
		<result column="uads_key" jdbcType="VARCHAR" property="uadsKey" />
		<result column="opensize" jdbcType="VARCHAR" property="opensize" />
		<result column="push_strategy" jdbcType="VARCHAR" property="pushStrategy" />
		<result column="enable_new" jdbcType="VARCHAR" property="enableNew" />
		<result column="interval" javaType="INTEGER" property="interval" />
		<result column="filter" javaType="INTEGER" property="filter" />
		<result column="ads_percent" jdbcType="INTEGER" property="adsPercent" />
		<result column="ads_enable" javaType="INTEGER" jdbcType="BIT"
			property="adsEnable" />
		<result column="xp_approved" jdbcType="INTEGER" property="xpApproved" />
		<result column="blacklist" jdbcType="VARCHAR" property="blacklist" />
		<result column="app_version_supported" jdbcType="VARCHAR"
			property="appVersionSupported" />
		<result column="display_time" jdbcType="INTEGER" property="displayTime" />
		<result column="enter_dw" jdbcType="VARCHAR" property="enterDw" />
		<result column="enter_dw_count" jdbcType="INTEGER" property="enterDwCount" />
		<result column="um_tab" jdbcType="VARCHAR" property="umTab" />
		<result column="um_replace" jdbcType="VARCHAR" property="umReplace" />
		<result column="media_type" jdbcType="VARCHAR" property="mediaType" />
		<result column="play_count" jdbcType="INTEGER" property="playCount" />
		<result column="display_type" jdbcType="VARCHAR" property="displayType" />
		<result column="is_click" jdbcType="INTEGER" property="isClick" />
	</resultMap>

	<select id="getById" resultType="AdSlotDO" resultMap="AdSlot-RESULT">
		select * from ad_slot where id = #{id} and <![CDATA[!(state & 1)]]>
	</select>

	<select id="getByAppkey" resultType="AdSlotDO" resultMap="AdSlot-RESULT">
		select * from ad_slot where appkey = #{appkey} and <![CDATA[!(state & 1)]]>
		limit 0,1
	</select>


</mapper>
